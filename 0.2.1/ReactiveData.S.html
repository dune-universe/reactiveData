<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="next" href="ReactiveData.DATA.html">
<link rel="Up" href="ReactiveData.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="ReactiveData" rel="Chapter" href="ReactiveData.html"><title>ReactiveData.S</title>
</head>
<body>
<div class="navbar">&nbsp;<a class="up" href="ReactiveData.html" title="ReactiveData">Up</a>
&nbsp;<a class="post" href="ReactiveData.DATA.html" title="ReactiveData.DATA">Next</a>
</div>
<h1>Module type <a href="type_ReactiveData.S.html">ReactiveData.S</a></h1>

<pre><span class="keyword">module type</span> S = <code class="code">sig</code> <a href="ReactiveData.S.html">..</a> <code class="code">end</code></pre><div class="info modtype top">
Signature describing a reactive data structure (<code class="code">'a t</code>).
<p>

    Most functions in <code class="code">S</code> are not safe to call during a React update
    step.<br>
</div>
<hr width="100%">

<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type">'a</code> t</span> </pre>
<div class="info ">
Reactive version of the data container<br>
</div>


<pre><span id="TYPEdata"><span class="keyword">type</span> <code class="type">'a</code> data</span> </pre>
<div class="info ">
Raw (non-reactive) version of the data container<br>
</div>


<pre><span id="TYPEpatch"><span class="keyword">type</span> <code class="type">'a</code> patch</span> </pre>
<div class="info ">
Patch format<br>
</div>


<pre><code><span id="TYPEmsg"><span class="keyword">type</span> <code class="type">'a</code> msg</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTmsg.Patch"><span class="constructor">Patch</span></span> <span class="keyword">of</span> <code class="type">'a <a href="ReactiveData.S.html#TYPEpatch">patch</a></code></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
<code class="code">Patch p</code> triggers the application of <code class="code">p</code>
                            on the current contents<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTmsg.Set"><span class="constructor">Set</span></span> <span class="keyword">of</span> <code class="type">'a <a href="ReactiveData.S.html#TYPEdata">data</a></code></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
With <code class="code">Set d</code>, <code class="code">d</code> becomes the new
                            content<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr></table>

<div class="info ">
Message format<br>
</div>


<pre><span id="TYPEhandle"><span class="keyword">type</span> <code class="type">'a</code> handle</span> </pre>
<div class="info ">
Handle that permits applying incremental updates<br>
</div>


<pre><span id="VALempty"><span class="keyword">val</span> empty</span> : <code class="type">'a <a href="ReactiveData.S.html#TYPEt">t</a></code></pre><div class="info ">
Empty data structure<br>
</div>

<pre><span id="VALcreate"><span class="keyword">val</span> create</span> : <code class="type">'a <a href="ReactiveData.S.html#TYPEdata">data</a> -> 'a <a href="ReactiveData.S.html#TYPEt">t</a> * 'a <a href="ReactiveData.S.html#TYPEhandle">handle</a></code></pre><div class="info ">
Build a container from initial contents. The handle can be used
      for performing reactive updates.<br>
</div>

<pre><span id="VALfrom_event"><span class="keyword">val</span> from_event</span> : <code class="type">'a <a href="ReactiveData.S.html#TYPEdata">data</a> -><br>       'a <a href="ReactiveData.S.html#TYPEmsg">msg</a> React.E.t -> 'a <a href="ReactiveData.S.html#TYPEt">t</a></code></pre><div class="info ">
<code class="code">from_event d e</code> is a container whose initial value is <code class="code">d</code>, and
      which gets updated for every occurrence of <code class="code">e</code><br>
</div>

<pre><span id="VALfrom_signal"><span class="keyword">val</span> from_signal</span> : <code class="type">?eq:('a -> 'a -> bool) -><br>       'a <a href="ReactiveData.S.html#TYPEdata">data</a> React.S.t -> 'a <a href="ReactiveData.S.html#TYPEt">t</a></code></pre><div class="info ">
Convert a React signal into a ReactiveData container.
<p>

      Whenever the signal changes from value <code class="code">v</code> to value <code class="code">v'</code>, we
      detect the differences between <code class="code">v</code> and <code class="code">v'</code>, and perform
      downstream computation (e.g., for <code class="code">map</code>) only on the new and
      modified elements.<br>
</div>

<pre><span id="VALconst"><span class="keyword">val</span> const</span> : <code class="type">'a <a href="ReactiveData.S.html#TYPEdata">data</a> -> 'a <a href="ReactiveData.S.html#TYPEt">t</a></code></pre><div class="info ">
Produce a constant container<br>
</div>

<pre><span id="VALpatch"><span class="keyword">val</span> patch</span> : <code class="type">'a <a href="ReactiveData.S.html#TYPEhandle">handle</a> -> 'a <a href="ReactiveData.S.html#TYPEpatch">patch</a> -> unit</code></pre><div class="info ">
<code class="code">patch h p</code> applies <code class="code">p</code> on the container corresponding to <code class="code">h</code><br>
</div>

<pre><span id="VALset"><span class="keyword">val</span> set</span> : <code class="type">'a <a href="ReactiveData.S.html#TYPEhandle">handle</a> -> 'a <a href="ReactiveData.S.html#TYPEdata">data</a> -> unit</code></pre><div class="info ">
<code class="code">set h d</code> sets the contents of the container corresponding to
      <code class="code">h</code>, disregarding previous contents<br>
</div>

<pre><span id="VALmap_msg"><span class="keyword">val</span> map_msg</span> : <code class="type">('a -> 'b) -> 'a <a href="ReactiveData.S.html#TYPEmsg">msg</a> -> 'b <a href="ReactiveData.S.html#TYPEmsg">msg</a></code></pre><div class="info ">
Transform a message<br>
</div>

<pre><span id="VALmap"><span class="keyword">val</span> map</span> : <code class="type">('a -> 'b) -> 'a <a href="ReactiveData.S.html#TYPEt">t</a> -> 'b <a href="ReactiveData.S.html#TYPEt">t</a></code></pre><div class="info ">
<code class="code">map f c</code> applies <code class="code">f</code> on all elements of <code class="code">c</code>, producing a new
      reactive container <code class="code">c'</code>. Modifying the contents of <code class="code">c</code> leads to
      modifications of <code class="code">c'</code>. <code class="code">f</code> is applied only on the new or
      modified elements of <code class="code">c</code>.<br>
</div>

<pre><span id="VALvalue"><span class="keyword">val</span> value</span> : <code class="type">'a <a href="ReactiveData.S.html#TYPEt">t</a> -> 'a <a href="ReactiveData.S.html#TYPEdata">data</a></code></pre><div class="info ">
Return current contents<br>
</div>

<pre><span id="VALfold"><span class="keyword">val</span> fold</span> : <code class="type">('a -> 'b <a href="ReactiveData.S.html#TYPEmsg">msg</a> -> 'a) -><br>       'b <a href="ReactiveData.S.html#TYPEt">t</a> -> 'a -> 'a React.signal</code></pre><div class="info ">
<code class="code">fold f c v</code> accumulates the updates on <code class="code">c</code> with <code class="code">f</code> starting
      from <code class="code">v</code>.
<p>

      The result is a signal of value <code class="code">f m_n (f ... (f m_1 v))</code>, where
      <code class="code">m_1</code> ... <code class="code">m_n</code> are the messages that have been applied since
      the beginning of <code class="code">fold</code>. <code class="code">m_1</code> is a pseudo-message <code class="code">Set l</code>,
      accounting for the contents <code class="code">l</code> of <code class="code">c</code> at the time when
      accumulation starts.<br>
</div>

<pre><span id="VALsignal"><span class="keyword">val</span> signal</span> : <code class="type">?eq:('a -> 'a -> bool) -><br>       'a <a href="ReactiveData.S.html#TYPEt">t</a> -> 'a <a href="ReactiveData.S.html#TYPEdata">data</a> React.S.t</code></pre><div class="info ">
Signal corresponding to contents<br>
</div>

<pre><span id="VALevent"><span class="keyword">val</span> event</span> : <code class="type">'a <a href="ReactiveData.S.html#TYPEt">t</a> -> 'a <a href="ReactiveData.S.html#TYPEmsg">msg</a> React.E.t</code></pre><div class="info ">
Event whose occurrences correspond to container updates<br>
</div>
</body></html>